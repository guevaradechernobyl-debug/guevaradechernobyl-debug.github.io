<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sevencorpse - Blog</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="tobyredhat.png">
<link rel="stylesheet" href="style.css">
<link rel="preload" href="rain.js" as="script"/>
<style id="flickering-style">
            @keyframes flickering {
                0% {
                    opacity: 0.63
                }

                ; 1% {
                    opacity: 0.46
                }

                ; 2% {
                    opacity: 0.95
                }

                ; 3% {
                    opacity: 0.37
                }

                ; 4% {
                    opacity: 0.78
                }

                ; 5% {
                    opacity: 0.41
                }

                ; 6% {
                    opacity: 1.14
                }

                ; 7% {
                    opacity: 0.9
                }

                ; 8% {
                    opacity: 0.43
                }

                ; 9% {
                    opacity: 1.17
                }

                ; 10% {
                    opacity: 0.48
                }

                ; 11% {
                    opacity: 0.94
                }

                ; 12% {
                    opacity: 0.91
                }

                ; 13% {
                    opacity: 0.92
                }

                ; 14% {
                    opacity: 0.86
                }

                ; 15% {
                    opacity: 0.73
                }

                ; 16% {
                    opacity: 0.76
                }

                ; 17% {
                    opacity: 1.04
                }

                ; 18% {
                    opacity: 0.42
                }

                ; 19% {
                    opacity: 0.99
                }

                ; 20% {
                    opacity: 0.53
                }

                ; 21% {
                    opacity: 0.76
                }

                ; 22% {
                    opacity: 1.12
                }

                ; 23% {
                    opacity: 1.22
                }

                ; 24% {
                    opacity: 0.79
                }

                ; 25% {
                    opacity: 0.36
                }

                ; 26% {
                    opacity: 0.8
                }

                ; 27% {
                    opacity: 0.57
                }

                ; 28% {
                    opacity: 1.28
                }

                ; 29% {
                    opacity: 1.05
                }

                ; 30% {
                    opacity: 0.38
                }

                ; 31% {
                    opacity: 0.85
                }

                ; 32% {
                    opacity: 1.23
                }

                ; 33% {
                    opacity: 1.07
                }

                ; 34% {
                    opacity: 0.41
                }

                ; 35% {
                    opacity: 0.64
                }

                ; 36% {
                    opacity: 0.4
                }

                ; 37% {
                    opacity: 0.63
                }

                ; 38% {
                    opacity: 0.97
                }

                ; 39% {
                    opacity: 1.03
                }

                ; 40% {
                    opacity: 0.84
                }

                ; 41% {
                    opacity: 1.34
                }

                ; 42% {
                    opacity: 0.78
                }

                ; 43% {
                    opacity: 0.69
                }

                ; 44% {
                    opacity: 1.17
                }

                ; 45% {
                    opacity: 0.64
                }

                ; 46% {
                    opacity: 1.04
                }

                ; 47% {
                    opacity: 1.02
                }

                ; 48% {
                    opacity: 0.65
                }

                ; 49% {
                    opacity: 0.75
                }

                ; 50% {
                    opacity: 1
                }

                ; }
                .flicker-img {
  animation: flickering 1.2s infinite;
}
        </style>


  
</head>

<body>
 <canvas id="snow"></canvas>
 <img src="RAINSNOWWORLD.gif" class="flicker-img">


  <div class="site-wrapper">

    <div class="layout">

      <!-- LEFT COLUMN -->
      <div class="main-column">

        <div class="pixel-panel">
          <div class="pixel-avatar">
            <img src="deltarune-rouxls-kaard.gif">
            <a href="MOOD.html" class="post-link">
              <solid style="color: #a29fb3;">-0.13 / +0.43</solid>
            </a>
          </div>

          <div>
            <div class="pixel-title">WELCOME TO SEVEN.C0RP!</div>

            <p>This is my little website and blog. Inspired by what i like (e.g. JJBA, Undertale, Neocities).</p>
            <p>I‚Äôm a student who codes random stuff when I feel like it.</p>

            <ul class="pixel-list">
              <li>From somewhere, joined in 2026</li>
              <li>Main language: Python (sometimes JavaScript)</li>
              <li>I love the <a href="#" style="color: red;">SUN</a></li>
              <li>I'm an ICT-student in some random Philippine high school.</li>
              <li>I make websites, bots, servers, scripts</li>
            </ul>
          </div>
        </div>

        <main id="posts">

          <article class="post pinned" data-tags="intro">
            <img src="STAR.gif" class="STAR" width="40px">
            <a href="Start.html" class="post-link">
              <h2>START HERE ‚Äî About Me</h2>
              <p>If you're new, read this first.</p>
              <div class="date">üóìÔ∏èFeb 21, 2026 |‚è±Ô∏è~4 minute read</div>
            </a>
          </article>

          <article class="post">

            <div class="post-tag" data-tags="rant">BLOG POST</div>
            <a href="Adespise.html" class="post-link">
              <h2>A Random List of Silly Things I Hate</h2>
              <p>Apparently this is a thing now, so I'm gonna join in. <img src="cat.png"></p>
              <div class="date">üóìÔ∏èFeb 06, 2026 |‚è±Ô∏è~2 minute read</div>
            </a>
          </article>

          <article class="post" data-tags="music">
            <a href="Musicprot.html" class="post-link">
              <h2>My Top Music Tracks</h2>
              <p>Ive figured putting my top tracks in this blog.</p>
              <div class="date">üóìÔ∏èFeb 07, 2026 |‚è±Ô∏è~4 minute read</div>
            </a>
          </article>

          <article class="post">
            <a href="Dogs.html" class="post-link">
              <h2>My cute puppies</h2>
              <p>Here I write everything about these guys.</p>
              <div class="date">üóìÔ∏èFeb 02, 2026 |‚è±Ô∏è~3 minute read </div>
            </a>
          </article>

          <article class="post" data-tags="anime">
            <a href="JOJO.html" class="post-link">
              <h2>Anime Tierlist</h2>
              <p>Purely subjective.</p>
              <div class="date">üóìÔ∏èJan 29, 2026 |‚è±Ô∏è~5 minute read</div>
            </a>
          </article>

          <article class="post">
            <a href="Family.html" class="post-link">
              <h2>Family Outings</h2>
              <p>Stories and warm moments.</p>
              <div class="date">üóìÔ∏èFeb 12, 2026 |‚è±Ô∏è~??? minute read</div>
            </a>
          </article>

          <article class="post"><a class="post-link">
              <h2>My Hobbies</h2>
              <p>Things I developed and dropped.</p>
              <div class="date">üóìÔ∏èFeb 12, 2026 |‚è±Ô∏è~5 minute read</div>
            </a></article>
          <article class="post"><a class="post-link">
              <h2>Reflections</h2>
              <p>Philosophy, psychology, life thoughts.</p>
              <div class="date">üóìÔ∏èFeb 1, 2026 |‚è±Ô∏è~10 minute read</div>
            </a></article>

        </main>
      </div>
      <aside>
        <!-- ================= TOP ROW: Pixel intro + Stars ================= -->
        <div class="intro-row">
          <!-- Pixel Intro Panel -->
          <div class="star-menu-panel">
            <div class="star-menu-header">
              <img src="warpstar.png" class="warpstar-icon" alt="Warp Star">
              <h3 class="star-title">STARS</h3>
              <img src="stars-light.png" class="star-title-img" alt="Stars">
            </div>

            <div class="star-menu-content">
              <ul>
                <li>
                  <a href="index.html">
                    <img src="starp.png" class="star-icon"> Home
                  </a>
                </li>

                <li>
                  <a href="Aboutme.html">
                    <img src="starp.png" class="star-icon"> About Me <img src="party.png" width="20px">
                  </a>
                </li>

                <li>
                  <a href="diary.html">
                    <img src="starp.png" class="star-icon"> Diary
                  </a>
                </li>

                <li>
                  <a href="photo.html">
                    <img src="starp.png" class="star-icon"> Photo Album
                    <span class="alert">(!)</span>
                  </a>
                </li>

                <li>
                  <a href="blog.html">
                    <img src="starp.png" class="star-icon"> Blog
                  </a>
                </li>

                <li>
                  <a href="contact.html">
                    <img src="starp.png" class="star-icon"> Contact
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Stars Panel -->
        <div class="button-marquee">

          <!-- TOP ROW (slides left) -->
          <div class="button-track">
            <div class="track-inner slide-left">
              <!-- FIRST SET -->
              <a href="#"><img src="noweb3.gif"></a>
              <a href="#"><img src="1080p.gif"></a>
              <a href="#"><img src="windows.gif"></a>
              <a href="#"><img src="vscode.gif"></a>
              <a href="#"><img src="https://nekoweb.org/assets/buttons/button11.gif"></a>
              <a href="#"><img src="made.gif"></a>
              <a href="#"><img src="valid-css.gif"></a>
              <a href="#"><img src="waifu.gif"></a>
              <a href="#"><img src="valid-rss.gif"></a>
              <a href="#"><img src="anybrow.gif"></a>


            </div>

            <!-- BOTTOM ROW (slides right) -->
            <div class="button-track">
              <div class="track-inner slide-right">
                <!-- FIRST SET -->
                <a href="#"><img src="cool.gif"></a>
                <a href="#"><img src="maid.gif"></a>
                <a href="#"><img src="ukraine.gif"></a>
                <a href="#"><img src="PROUDLY.gif"></a>
                <a href="#"><img src="soon.gif"></a>
                <a href="#"><img src="BREAKDOWN.gif" width="88px" height="31px"></a>
                <a href="#"><img src="plasma.gif"></a>
                <a href="#"><img src="calciume.gif"></a>
              </div>
            </div>

          </div>


          <div class="sidebar-row">

            <div class="sidebar-box theme-box">
              <h3>THEME</h3>
              <img id="themeToggle" src="moon.gif" class="toggle-icon">
            </div>

            <div class="sidebar-box filter-box">
              <h3>FILTER</h3>
              <div class="tag" data-filter="all">All</div>
              <div class="tag" data-filter="music">Music</div>
              <div class="tag" data-filter="rant">Rants</div>
            </div>

          </div>

          <!-- ================= STATUS ================= -->
          <div class=" status-box">
            <div class="status-inner">
              <span class="im-text">I'm</span>
              <span id="userStatus" class="status online">ONLINE!</span>
            </div>
          </div>

          <!-- ================= OBSESSION PANEL ================= -->
          <div class="obsession-panel" id="obsessionPanel">
            <div class="obsession-header">
              CURRENT OBSESSION
            </div>

            <div class="obsession-body glitch-switch" id="obsessionContent">
              <img id="obsessionImage" src="song.jpg">

              <div class="obsession-text">
                <h3 id="obsessionTitle">Song Title</h3>
                <div class="sub" id="obsessionSub">Artist Name</div>

                <div class="obsession-desc" id="obsessionDesc">
                  Short description about why you're addicted.
                </div>

                <div class="obsession-meta" id="obsessionMeta">
                  Last Changed: 4 days ago
                </div>
              </div>
            </div>
          </div>

          <!-- ================= RANDOM POST ================= -->

          <!-- ================= SOCIALS ================= -->
          <div class="socials">
            <h3>SOCIALS</h3>
            <div class="social-icons">
              <a href="https://www.facebook.com/sevencorpse"><img src="fblogo.avif"></a>
              <a href="https://www.instagram.com/sevenc0rp"><img src="instaglogo.jpg"></a>
              <a href="https://www.tiktok.com/@boolean.str"><img src="tiklogo.avif"></a>
              <a href="https://www.discord.com/user/loadstring.json"><img src="disc.avif"></a>
            </div>
          </div>



        </div>
    </div>
    <footer class="retro-footer">

      <div class="retro-buttons">

        <!-- BOTTOM ROW (slides right) -->
        <div class="button-row slide-right">
          <a href="#"><img src="valid-html5.gif"></a>
          <a href="#"><img src="valid-css.gif"></a>
          <a href="#"><img src="valid-rss.gif"></a>
          <a href="#"><img src="made.gif"></a>
        </div>

      </div>
      <img src="dog-bark.png">
      <div class="retro-credit">
   (c) 2025-2026 sevencorp. ‚ùÖ All Rights Reserved.
      </div>

    </footer>

  </div>

  <script>
    const biographyUnlocked = false;
    // true = teacher mode
    // false = public mode
    document.addEventListener("DOMContentLoaded", () => {
      const toggle = document.getElementById("themeToggle");

      // Ensure the element exists
      if (!toggle) return;

      // Set initial theme and icon
      if (localStorage.theme === "dark") {
        document.body.classList.add("dark");
        toggle.src = "sun.gif"; // GIF for dark mode
      } else {
        document.body.classList.remove("dark");
        toggle.src = "moon.gif"; // GIF for light mode
      }

      // Toggle theme on click
      toggle.addEventListener("click", () => {
        document.body.classList.toggle("dark");
        if (document.body.classList.contains("dark")) {
          localStorage.theme = "dark";
          toggle.src = "sun.gif";
        } else {
          localStorage.theme = "light";
          toggle.src = "moon.gif";
        }
      });

      // TAG FILTER
      document.querySelectorAll(".tag").forEach(btn => {
        btn.onclick = () => {
          let f = btn.dataset.filter;

          document.querySelectorAll(".post").forEach(p => {
            p.style.display = f === "all" || p.dataset.tags?.includes(f) ? "" : "none";
          });
        };
      });


      // RANDOM POST (final reliable version)
      const randomBtn = document.getElementById("randomBtn");

      randomBtn.addEventListener("click", () => {

        let posts = [...document.querySelectorAll(".post:not(.pinned)")]
          .filter(p => getComputedStyle(p).display !== "none");

        if (!posts.length) {
          alert("No posts available!");
          return;
        }

        let r = posts[Math.floor(Math.random() * posts.length)];
        let link = r.querySelector("a.post-link")?.getAttribute("href");

        if (!link) {
          alert("This post has no page yet.");
          return;
        }

        window.location.href = link;
      });

    });
    // STATUS TOGGLE (example logic)
    const statusEl = document.getElementById("userStatus");

    // Example: offline between 1am‚Äì7am
    const hour = new Date().getHours();

    if (hour >= 1 && hour <= 7) {
      statusEl.textContent = "OFFLINE";
      statusEl.classList.remove("online");
      statusEl.classList.add("offline");
    }
    /* ===== CURRENT OBSESSION SYSTEM ===== */

    const modes = [
      {
        id: "song",
        label: "[ SONG MODE ]",
        img: "surf.jpg",
        title: "Surf Wax America",
        sub: "Weezer",
        desc: "Now I can never go home"
      },
      {
        id: "show",
        label: "[ SHOW MODE ]",
        img: "TVD.png",
        title: "The Vampire Diaries",
        sub: "Season 5",
        desc: "IM SO OBSESSED WITH THIS SHOW ITS CRAZY."
      }
    ];

    let current = 0;
    let autoRotate = true;
    const panel = document.getElementById("obsessionPanel");
    function switchMode(index) {

      const data = modes[index];

      panel.classList.remove("mode-song", "mode-anime", "mode-show");
      panel.classList.add("mode-" + data.id);

      document.getElementById("obsessionImage").src = data.img;
      document.getElementById("obsessionTitle").textContent = data.title;
      document.getElementById("obsessionSub").textContent = data.sub;
      document.getElementById("obsessionDesc").textContent = data.desc;

      const body = document.getElementById("obsessionContent");
      body.classList.remove("glitch-switch");
      void body.offsetWidth;
      body.classList.add("glitch-switch");

      current = index;
      const label = document.querySelector(".crt-text");
      label.style.animation = "none";
      label.offsetHeight;
      label.style.animation = null;
    }

    /* Auto rotation */
    setInterval(() => {
      if (!autoRotate) return;
      current = (current + 1) % modes.length;
      switchMode(current);
    }, 5000);

    /* Buttons */
    document.querySelectorAll(".obsession-controls button")
      .forEach(btn => {
        btn.onclick = () => {
          autoRotate = false;
          switchMode(
            modes.findIndex(m => m.id === btn.dataset.mode)
          );
        };
      });

    /* start */
    switchMode(0);


    /* ================= SNOW OVERLAY ENGINE ================= */
<script>
let stopRain;
let rainStopped = localStorage.disablerain == '1';
let rainElements = [...document.getElementsByClassName("rain-hitbox"), document.getElementById("oneko"), "cursor"];
window.isThunder = false;
let rects = new WeakMap();
let rainBgm = new Audio(window.isThunder ? "/sounds/rainHeavy3.mp3" : "/sounds/rainLight1.mp3");
let thunderBgm;
let updateRain;
let isWinter = new Date().getMonth() == 10 || new Date().getMonth() == 11 || new Date().getMonth() == 0 || new Date().getMonth() == 1;
let snowBgm = new Audio("/sounds/snow.ogg");

setTimeout(() => {
    if(isWinter) {
        if(localStorage.disablerain) return;
        let root = document.documentElement;
        root.style.setProperty("--link-color", "#2ba6b2");
        let style = document.createElement("style");
        style.innerHTML = `
            .chat-name {
                color: rgb(41 121 124);
            }
            .status-ok {
                color: #36fdf7;
            }
            #dimdengif, #mood {
                border: 1px solid rgb(41 91 124);
            }
        `;
        document.body.append(style);
        document.getElementById("snow").hidden = false;
        snowBgm.loop = true;
        snowBgm.volume = 0.2;
        document.body.append(snowBgm);
        snowBgm.play().catch(() => {
            document.addEventListener("click", () => {
                snowBgm.play();
            }, { once: true });
        });
        stopRain = () => {
            document.getElementById("snow").hidden = true;
            snowBgm.pause();
        }
        onVisibilityChange(visible => {
            if(visible) {
                snowBgm.play();
            } else {
                snowBgm.pause();
            }
        });
        return;
    };
    if(isSlow) return;

    let forceThunder = false;

    let power = Math.sin(Date.now() / 90000000);
    let thunderPlaying = false;
    window.isThunder = power >= 0.99 || forceThunder;
    rainBgm.loop = true;
    rainBgm.volume = 0.2;
    if(window.isThunder) {
        thunderBgm = new Audio("/sounds/AM_RAIN-QuietThunder.mp3");
        thunderBgm.loop = true;
        document.body.append(thunderBgm);
        if(localStorage.muterain != '1' && !rainStopped) thunderBgm.play().catch(() => {
            document.addEventListener("click", () => {
                thunderBgm.play();
            }, { once: true });
        });
        thunder();
    }

    document.body.append(rainBgm);
    if(localStorage.muterain != '1' && !rainStopped) rainBgm.play().catch(() => {
        document.addEventListener("click", () => {
            rainBgm.play();
        }, { once: true });
    });


    onVisibilityChange(visible => {
        rainBgm.muted = !visible;
        if(thunderBgm) thunderBgm.muted = !visible;
    });

    let chatBox = document.getElementById("chat");
    let chatRect = chatBox.getBoundingClientRect();
    let hmcBox = document.getElementById("hidemycursor-div");
    let hmcRect = hmcBox.getBoundingClientRect();
    let mouseX = 0, mouseY = 0;

    document.addEventListener("mousemove", e => {
        let x = e.pageX; mouseX = e.x;
        let y = e.pageY; mouseY = e.y;

        if(y > chatRect.top && x > chatRect.left && x < hmcRect.right) {
            rainBgm.volume = 0.05;
        } else {
            rainBgm.volume = 0.2;
        }
    });

    stopRain = () => {
        rainBgm.pause();
        if(thunderBgm) thunderBgm.pause();
        clearInterval(spawnInterval);
        clearInterval(slowCheckInterval);
        ctx.clearRect(0, 0, c.width, c.height);
        rainStopped = true;
        window.isThunder = false;
    };
    let slowCheckInterval = setInterval(() => {
        if(isSlow) {
            stopRain();
        }
    }, 100);

    let c = document.getElementById("rain-canvas");

    c.width = window.innerWidth;
    c.height = window.innerHeight;

    let ctx = c.getContext("2d");

    let rainDrops = [];
    let defaultLength = 50;
    let defaultSpeed = 27;
    let defaultAngle = 90 * Math.PI / 180;

    let length = defaultLength;
    let speed = defaultSpeed;

    let angle = defaultAngle;
    let angleSin = Math.sin(angle);
    let angleCos = Math.cos(angle);

    setInterval(() => {
        let x = Date.now() / 1000000;
        let power = Math.sin(2*Math.PI*(2*x-Math.cos(x)))/2+0.5;

        angle = (90 + Math.sin(x)*1.25) * Math.PI / 180;
        speed = Math.floor(defaultSpeed + power*10);

        let power2 = Math.sin(Date.now() / 90000000);
        let power3 = Math.sin((Date.now()-1000) / 90000000);
        if(power3 < 0.99 && power2 >= 0.99) {
            clearInterval(spawnInterval);
            spawnInterval = setInterval(newDrop, 1);
            rainBgm.src = "/sounds/rainHeavy3.mp3";
            if(localStorage.muterain != '1' && !rainStopped) rainBgm.play();
            window.isThunder = true;
            if(!thunderBgm) {
                thunderBgm = new Audio("/sounds/AM_RAIN-QuietThunder.mp3");
                thunderBgm.loop = true;
                document.body.append(thunderBgm);
            }
            if(localStorage.muterain != '1' && !rainStopped) thunderBgm.play();
            thunder();
        }
        if(power3 >= 0.99 && power2 < 0.99) {
            clearInterval(spawnInterval);
            spawnInterval = setInterval(newDrop, 100);
            rainBgm.src = "/sounds/rainLight1.mp3";
            if(localStorage.muterain != '1' && !rainStopped) rainBgm.play();
            window.isThunder = false;
            if(thunderBgm) thunderBgm.pause();
        }
        if(power2 >= 0.99 || forceThunder) {
            speed *= 2;
            length = defaultLength * 2;
            angle = (90 + Math.sin(x)*3) * Math.PI / 180;
        } else {
            length = defaultLength;
        }
    }, 1000);
    

    let spawnInterval = setInterval(newDrop, power >= 0.99 || forceThunder ? 1 : 2);

    window.addEventListener("resize", onResize);
    let scrolled = false;
    window.addEventListener("scroll", () => {
        scrolled = Date.now();
    }, { passive: true });

    let paused = false;
    document.addEventListener("visibilitychange", function() {
        if(rainStopped) return;
        if (document.hidden) {
            paused = true;
        } else {
            paused = false;
        }
    });

    function playThunder() {
        if(thunderPlaying || rainStopped) return;
        let audio = new Audio(`/sounds/CThunderA_${Math.floor(Math.random()*5)+1}.mp3`);
        let ctx = new AudioContext();
        let analyser = ctx.createAnalyser();
        let audioSrc = ctx.createMediaElementSource(audio);
        audioSrc.connect(analyser);
        analyser.connect(ctx.destination);
        let dynamicStyle = document.getElementById("dynamic-style");

        function renderFrame() {
            if(rainStopped) return thunderPlaying = false;
            let array = new Uint8Array(analyser.frequencyBinCount);
            analyser.getByteFrequencyData(array);
            let value = array.reduce((a, b) => a+b, 0);
            if(value > 7000) {
                dynamicStyle.innerHTML = `
                    .box {
                        filter: brightness(${(value/6000).toFixed(3)});
                    }
                `;
            } else {
                dynamicStyle.innerHTML = ``;
            }
            
            if(audio.ended) {
                thunderPlaying = false;
                dynamicStyle.innerHTML = ``;
                return;
            }
            requestAnimationFrame(renderFrame);
        }
        if(localStorage.muterain != '1' && !rainStopped) audio.play().then(() => {
            thunderPlaying = true;
            renderFrame();
        });
    }
    function thunder() {
        if(isTabFocused) playThunder();
        if(window.isThunder) setTimeout(thunder, 10000 + Math.floor(Math.random() * 20000));
    }

    class RainDrop {
        constructor(x, y) {
            this.x = x;
            this.y = y;
            this.createdAt = Date.now();
            rainDrops.push(this);
        }
    }

    function newDrop() {
        if(scrolled && Date.now() - scrolled > 10) {
            rects = new WeakMap();
            scrolled = false;
        }
        if(rainDrops.length > 100) return;
        new RainDrop(Math.random() * c.width, -40 - 100 * Math.random());
    }
    window.rainDrops = rainDrops;

    updateRain = function() {
        if(rainStopped) return;
        if(paused) return window.requestAnimationFrame(updateRain);

        const now = Date.now();
        const adjustedSpeed = Math.round((speed * 60) / cfps);
        
        ctx.clearRect(0, 0, c.width, c.height);

        ctx.beginPath();

        for (let x = rainDrops.length - 1; x >= 0; x--) {
            const drop = rainDrops[x];
            if(now < drop.wait) continue;

            drop.x += adjustedSpeed * angleCos;
            drop.y += adjustedSpeed * angleSin;

            drop.endX = drop.x + length * angleCos;
            drop.endY = drop.y + length * angleSin;

            ctx.moveTo(Math.floor(drop.x), Math.floor(drop.y));
            ctx.lineTo(Math.floor(drop.endX), Math.floor(drop.endY));

            if (drop.y > c.height) {
                drop.x = Math.random() * c.width;
                drop.endX = drop.x + length * angleCos;
                drop.y = -50;
                drop.endY = -50 + length * angleSin;
                drop.wait = now + Math.random() * 300;
            }
        }

        ctx.stroke();

        clearRegions();
        
        window.requestAnimationFrame(updateRain);
    }
    updateRain();
    let gradient = ctx.createLinearGradient(0, 0, 0, c.height);

    gradient.addColorStop(0, "#55a8ff");
    gradient.addColorStop(1, "white");
    gradient.addColorStop(1, "white");
    ctx.lineWidth = 1;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#0984e3";
    ctx.strokeStyle = gradient;

    function onResize() {
        if(rainStopped) return;
        c.width = innerWidth;
        c.height = innerHeight;

        ctx.lineWidth = 1;
        ctx.lineCap = "round";
        ctx.strokeStyle = "#0984e3";
        ctx.strokeStyle = gradient;
    }

    function getRect(el) {
        if(el === "cursor") {
            return {
                x: mouseX,
                y: mouseY + 4,
                left: mouseX,
                top: mouseY + 4,
                width: 14,
                height: 16,
                right: mouseX + 14,
                bottom: mouseY + 16
            };
        }
        if(el.id === "oneko") {
            let rect = el.getBoundingClientRect();
            rect.y += 20;
            rect.top += 20;
            rect.height -= 12;

            return rect;
        }
        let stored = rects.get(el);
        if(stored) return stored;
        let rect = el.getBoundingClientRect();
        let obj = {
            top: rect.top,
            right: rect.right,
            bottom: rect.bottom,
            left: rect.left,
            width: rect.width,
            height: rect.height,
            x: rect.x,
            y: rect.y
        };
        rects.set(el, obj);
        return obj;
    }
    function clearRegions() {
        if(rainStopped) return;
        ctx.globalCompositeOperation = "destination-out";

        for (let i = 0; i < rainElements.length; i++) {
            let boundingBox = getRect(rainElements[i]);
            let yDistanceBottom = c.height - boundingBox.bottom;
            let yDistanceTop = c.height - boundingBox.top;

            let bottomLeftX =
            boundingBox.left + yDistanceBottom * Math.tan(Math.PI / 2 - angle);
            let bottomRightX =
            boundingBox.right + yDistanceBottom * Math.tan(Math.PI / 2 - angle);

            let bottomLeftX2 =
            boundingBox.left + yDistanceTop * Math.tan(Math.PI / 2 - angle);
            let bottomRightX2 =
            boundingBox.right + yDistanceTop * Math.tan(Math.PI / 2 - angle);

            //From bottom of element to edge of page
            ctx.beginPath();
            ctx.moveTo(boundingBox.left, boundingBox.bottom);
            ctx.lineTo(bottomLeftX, c.height);
            ctx.lineTo(bottomRightX, c.height);
            ctx.lineTo(boundingBox.right, boundingBox.bottom);
            ctx.closePath();
            ctx.fill();

            //From top of element to edge of page
            ctx.beginPath();
            ctx.moveTo(boundingBox.left, boundingBox.top);
            ctx.lineTo(bottomLeftX2, c.height);
            ctx.lineTo(bottomRightX2, c.height);
            ctx.lineTo(boundingBox.right, boundingBox.top);
            ctx.closePath();
            ctx.fill();
        }

        ctx.globalCompositeOperation = "source-over";
    }
}, 2000);
  </script>
  <canvas id="snow-ground"></canvas>
</body>

</html>

